<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SSN AUTO GENERATOR BY AREA 51</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css " />
  <style>
    body {
      background: #f3f4f6;
      font-family: 'Segoe UI', Arial, sans-serif';
      margin: 0;
      padding: 0;
      color: #333;
    }

    h1, h2, h3 {
      color: #dc2626;
    }

    .bg-white {
      background: #fff;
    }

    .rounded-lg {
      border-radius: 0.75rem;
    }

    .shadow-card {
      box-shadow: 0 2px 8px rgba(59,130,246,0.08), 0 1.5px 4px rgba(0,0,0,0.04);
    }

    input, select, button {
      outline: none;
      transition: border 0.2s, box-shadow 0.2s;
    }

    input:focus,
    select:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 2px #6366f1;
    }

    button:active {
      transform: scale(0.98);
    }

    #generatedSSNsModal .bg-white {
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      border: 1px solid #e5e7eb;
      padding: 0.5rem;
    }

    th {
      background: #f3f4f6;
      position: sticky;
      top: 0;
      z-index: 1;
    }

    tr:nth-child(even) {
      background: #f9fafb;
    }

    tr:hover {
      background: #e0e7ef;
    }

    .hidden {
      display: none !important;
    }

    .flex {
      display: flex;
    }

    .items-center {
      align-items: center;
    }

    .justify-between {
      justify-content: space-between;
    }

    .justify-center {
      justify-content: center;
    }

    .mt-2 {
      margin-top: 0.5rem;
    }

    .mt-3 {
      margin-top: 0.75rem;
    }

    .mt-4 {
      margin-top: 1rem;
    }

    .mb-3 {
      margin-bottom: 0.75rem;
    }

    .p-3 {
      padding: 0.75rem;
    }

    .w-full {
      width: 100%;
    }

    .text-xs {
      font-size: 0.75rem;
    }

    .text-sm {
      font-size: 0.875rem;
    }

    .text-purple-700 {
      color: #7c3aed;
    }

    .text-green-600 {
      color: #16a34a;
    }

    .text-gray-500 {
      color: #6b7280;
    }

    .text-gray-600 {
      color: #4b5563;
    }

    .bg-blue-600 {
      background: #2563eb;
    }

    .bg-green-600 {
      background: #16a34a;
    }

    .bg-red-600 {
      background: #dc2626;
    }

    .bg-purple-600 {
      background: #9333ea;
    }

    .bg-gray-100 {
      background: #f3f4f6;
    }

    .border {
      border: 1px solid #e5e7eb;
    }

    .border-2 {
      border-width: 2px;
    }

    .border-red-800 {
      border-color: #991b1b;
    }

    .rounded-md {
      border-radius: 0.375rem;
    }

    .max-h-96 {
      max-height: 24rem;
    }

    .overflow-y-auto {
      overflow-y: auto;
    }

    .sticky {
      position: sticky;
    }

    .top-0 {
      top: 0;
    }

    .absolute {
      position: absolute;
    }

    .top-2 {
      top: 0.5rem;
    }

    .right-2 {
      right: 0.5rem;
    }

    .ml-2 {
      margin-left: 0.5rem;
    }

    .mr-1 {
      margin-right: 0.25rem;
    }

    .floating-copy {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      cursor: pointer;
      color: #3b82f6;
      text-decoration: underline;
    }

    /* TOAST NOTIFICATIONS */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #10b981;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      opacity: 0;
      pointer-events: none;
      z-index: 1000;
      transition: opacity 0.3s ease-in-out;
    }

    .notification.show {
      opacity: 1;
    }

    .bg-red-500 {
      background-color: #ef4444;
    }

    .bg-yellow-500 {
      background-color: #f59e0b;
    }

    .bg-blue-500 {
      background-color: #3b82f6;
    }

    .bg-green-500 {
      background-color: #10b981;
    }
  </style>
</head>
<body>

<!-- MATRIX BACKGROUND -->
<canvas id="matrixCanvas"></canvas>

<!-- TOGGLE CONTROLS -->
<div style="position: fixed; top: 10px; right: 10px; z-index: 9999;">
  <div class="flex items-center gap-4">
    <label class="toggle-switch">
      <input type="checkbox" id="darkModeToggle" />
      <span class="slider"></span>
    </label>
    <label class="toggle-switch">
      <input type="checkbox" id="matrixToggle" checked />
      <span class="slider"></span>
    </label>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="mb-4 bg-white p-3 rounded-lg shadow-sm mx-auto max-w-6xl">
  <h3 class="text-lg font-semibold mb-3 text-purple-700 flex justify-center items-center gap-2">
    <span style="font-family: monospace; color: #ff4081;">[DEVELOPED BY AREA 51]</span>
  </h3>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <label class="block text-xs mb-1 font-semibold label-state">State for Auto-Generation</label>
      <select id="autoGenStateSelect" class="w-full rounded border px-2 py-1">
        <option value="Alabama">Alabama</option>
        <option value="Alaska">Alaska</option>
        <option value="Arizona">Arizona</option>
        <option value="Arkansas">Arkansas</option>
        <option value="California">California</option>
        <option value="Colorado">Colorado</option>
        <option value="Connecticut">Connecticut</option>
        <option value="Delaware">Delaware</option>
        <option value="Florida">Florida</option>
        <option value="Georgia">Georgia</option>
        <option value="Hawaii">Hawaii</option>
        <option value="Idaho">Idaho</option>
        <option value="Illinois">Illinois</option>
        <option value="Indiana">Indiana</option>
        <option value="Iowa">Iowa</option>
        <option value="Kansas">Kansas</option>
        <option value="Kentucky">Kentucky</option>
        <option value="Louisiana">Louisiana</option>
        <option value="Maine">Maine</button>
        <option value="Maryland">Maryland</option>
        <option value="Massachusetts">Massachusetts</option>
        <option value="Michigan">Michigan</option>
        <option value="Minnesota">Minnesota</option>
        <option value="Mississippi">Mississippi</option>
        <option value="Missouri">Missouri</option>
        <option value="Montana">Montana</option>
        <option value="Nebraska">Nebraska</option>
        <option value="Nevada">Nevada</option>
        <option value="New Hampshire">New Hampshire</option>
        <option value="New Jersey">New Jersey</option>
        <option value="New Mexico">New Mexico</option>
        <option value="New York">New York</option>
        <option value="North Carolina">North Carolina</option>
        <option value="North Dakota">North Dakota</option>
        <option value="Ohio">Ohio</option>
        <option value="Oklahoma">Oklahoma</option>
        <option value="Oregon">Oregon</option>
        <option value="Pennsylvania">Pennsylvania</option>
        <option value="Rhode Island">Rhode Island</option>
        <option value="South Carolina">South Carolina</option>
        <option value="South Dakota">South Dakota</option>
        <option value="Tennessee">Tennessee</option>
        <option value="Texas">Texas</option>
        <option value="Utah">Utah</option>
        <option value="Vermont">Vermont</option>
        <option value="Virginia">Virginia</option>
        <option value="Washington">Washington</option>
        <option value="West Virginia">West Virginia</option>
        <option value="Wisconsin">Wisconsin</option>
        <option value="Wyoming">Wyoming</option>
        <option value="Random">Random (Other States)</option>
      </select>
    </div>
    <div>
      <label class="block text-xs mb-1 font-semibold label-interval">Generation Interval (seconds)</label>
      <input id="autoGenInterval" type="number" min="1" max="60" value="1" class="w-full rounded border px-2 py-1" />
      <p class="text-xs text-gray-600 mt-1">Minimum: 1 second, Maximum: 60 seconds</p>
    </div>
    <div class="flex items-end">
      <button id="startAutoGenBtn"
              class="bg-green-600 hover:bg-green-700 text-white font-bold rounded-md px-4 py-1 shadow flex items-center">
        <i class="fa fa-play mr-2"></i>Start Auto-Generation
      </button>
      <button id="stopAutoGenBtn"
              class="bg-red-600 hover:bg-red-700 text-white font-bold rounded-md px-4 py-1 shadow border-2 border-red-800 flex items-center ml-2 hidden">
        <i class="fa fa-stop mr-2"></i>Stop
      </button>
    </div>
  </div>
  <div class="mt-3">
    <div id="autoGenStatus" class="text-sm text-gray-600">Ready to start auto-generation</div>
    <div class="mt-2">
      <button id="removeDuplicatesBtn"
              class="bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-md px-3 py-1 shadow flex items-center text-sm">
        <i class="fa fa-broom mr-1"></i>Remove Duplicate SSNs
      </button>
    </div>
  </div>
</div>

<div class="mt-4 flex justify-center">
  <button id="showGeneratedSSNsBtn"
          class="bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-md px-4 py-1 shadow flex items-center">
    <i class="fa fa-list mr-2"></i>Show Generated SSNs
  </button>
</div>

<!-- Modal -->
<div id="generatedSSNsModal"
     class="fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center hidden">
  <div class="bg-white rounded-lg shadow-lg w-full max-w-2xl p-6 relative">
    <button id="closeGeneratedSSNsModal"
            class="absolute top-2 right-2 text-gray-500 hover:text-red-600 text-2xl">&times;</button>
    <h2 class="text-lg font-bold mb-4 text-purple-700">Generated SSNs</h2>
    <div class="mb-3 flex items-center justify-between">
      <span id="generatedSSNsCount" class="text-xs text-gray-600"></span>
      <button id="copyAllBtn"
              class="bg-teal-600 hover:bg-teal-700 text-white px-3 py-1 rounded">
        <i class="fas fa-copy mr-1"></i>Copy All
      </button>
    </div>
    <div id="generatedSSNsList"
         class="max-h-96 overflow-y-auto text-sm border rounded"></div>
  </div>
</div>

<!-- Toast Notification -->
<div id="notificationToast" class="notification">Notification</div>

<script>
  // --- IN-MEMORY STORAGE ---
  let ssnMarketplace = [];
  let totalSSNsGenerated = 0;

  // --- MATRIX ANIMATION ---
  const matrixCanvas = document.getElementById("matrixCanvas");
  const ctx = matrixCanvas.getContext("2d");

  let matrixActive = true;
  let letters = "アァイィウヴエカガキギクグケゲコゴサザシジスズセゼソゾタダチッヂヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  letters = letters.split("");
  let fontSize = 16;
  let drops = [];

  function resizeMatrix() {
    if (!matrixActive) return;
    matrixCanvas.width = window.innerWidth;
    matrixCanvas.height = window.innerHeight;
    columns = Math.floor(matrixCanvas.width / fontSize);
    drops = Array(columns).fill(1);
  }

  function drawMatrix() {
    if (!matrixActive) return;
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);

    ctx.fillStyle = "#0F0";
    ctx.font = fontSize + "px monospace";

    for (let i = 0; i < drops.length; i++) {
      let char = letters[Math.floor(Math.random() * letters.length)];
      ctx.fillText(char, i * fontSize, drops[i] * fontSize);
      if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
        drops[i] = 0;
      }
      drops[i]++;
    }
  }

  window.addEventListener("resize", resizeMatrix);
  resizeMatrix();
  setInterval(drawMatrix, 33);

  // --- TOGGLES ---
  const darkModeToggle = document.getElementById("darkModeToggle");
  const matrixToggle = document.getElementById("matrixToggle");

  darkModeToggle.addEventListener("change", () => {
    document.body.classList.toggle("dark-mode");
  });

  matrixToggle.addEventListener("change", () => {
    matrixActive = matrixToggle.checked;
    if (!matrixActive) ctx.clearRect(0, 0, matrixCanvas.width, matrixCanvas.height);
  });

  // --- UTILITY FUNCTIONS ---
  function showToast(message, type = 'info') {
    const toast = document.getElementById('notificationToast');
    toast.textContent = message;
    toast.className = `notification ${type === 'success' ? 'bg-green-500' :
                      type === 'error' ? 'bg-red-500' :
                      type === 'warning' ? 'bg-yellow-500' : 'bg-blue-500'} show`;
    setTimeout(() => toast.classList.remove('show'), 2000);
  }

  function generateRandomSSN() {
    const area = Math.floor(Math.random() * 900) + 100;
    const group = Math.floor(Math.random() * 100);
    const serial = Math.floor(Math.random() * 10000);
    return `${area.toString().padStart(3, '0')}-${group.toString().padStart(2, '0')}-${serial.toString().padStart(4, '0')}`;
  }

  function generateStateSSN(state) {
    return {
      ssn: generateRandomSSN(),
      state: state,
      source: 'auto',
      generatedAt: new Date().toISOString()
    };
  }

  const states = [
    "Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware",
    "Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky",
    "Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi",
    "Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico",
    "New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania",
    "Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont",
    "Virginia","Washington","West Virginia","Wisconsin","Wyoming"
  ];

  const stateGenerators = {};
  states.forEach(state => {
    stateGenerators[`generate${state.replace(/\s/g, '')}SSN`] = () => generateStateSSN(state);
  });

  window.generateRandomStateSSN = () => {
    const randIndex = Math.floor(Math.random() * states.length);
    const state = states[randIndex];
    return generateStateSSN(state);
  };

  Object.entries(stateGenerators).forEach(([fn, func]) => window[fn] = func);

  function isSSNDuplicate(ssn) {
    return ssnMarketplace.some(item => item.ssn === ssn);
  }

  function renderGeneratedSSNsList() {
    const listDiv = document.getElementById('generatedSSNsList');
    const countSpan = document.getElementById('generatedSSNsCount');

    if (!listDiv) return;

    if (!Array.isArray(ssnMarketplace) || ssnMarketplace.length === 0) {
      listDiv.innerHTML = '<div class="text-gray-500 p-4">No SSNs generated yet.</div>';
      if (countSpan) countSpan.textContent = '';
      return;
    }

    if (countSpan) countSpan.textContent = `Total Generated: ${ssnMarketplace.length}`;

    listDiv.innerHTML = `
      <table class="w-full border text-xs">
        <thead>
          <tr class="bg-gray-100 sticky top-0">
            <th class="p-2 border">#</th>
            <th class="p-2 border">SSN</th>
            <th class="p-2 border">State</th>
            <th class="p-2 border">Date</th>
            <th class="p-2 border">Action</th>
          </tr>
        </thead>
        <tbody>
          ${ssnMarketplace.map((ssn, idx) => `
            <tr>
              <td class="p-1 border text-center">${idx + 1}</td>
              <td class="p-1 border font-mono">${ssn.ssn}</td>
              <td class="p-1 border">${ssn.state || '-'}</td>
              <td class="p-1 border">${new Date(ssn.generatedAt).toLocaleString()}</td>
              <td class="p-1 border">
                <span class="floating-copy" onclick="copyToClipboard('${ssn.ssn}')">Copy</span>
              </td>
            </tr>
          `).join('')}
        </tbody>
      </table>
    `;
  }

  function copyToClipboard(text) {
    navigator.clipboard.writeText(text)
      .then(() => showToast(`Copied: ${text}`))
      .catch(err => console.error("Copy failed:", err));
  }

  function copyAllSSNs() {
    if (!ssnMarketplace.length) {
      showToast("No SSNs to copy.", "error");
      return;
    }

    const allSSNs = ssnMarketplace.map(s => s.ssn).join('\n');
    navigator.clipboard.writeText(allSSNs)
      .then(() => showToast(`Copied ${ssnMarketplace.length} SSNs`, 'success'))
      .catch(err => {
        console.error("Failed to copy all SSNs:", err);
        showToast("Failed to copy to clipboard", 'error');
      });
  }

  // --- AUTO-GENERATION LOGIC ---
  let autoGenInterval = null;
  let autoGenCount = 0;

  function startAutoGeneration() {
    let interval = parseInt(document.getElementById('autoGenInterval').value);
    if (interval < 1 || interval > 60) {
      showToast('Please enter an interval between 1 and 60 seconds.', 'error');
      return;
    }

    const state = document.getElementById('autoGenStateSelect').value;
    document.getElementById('startAutoGenBtn').classList.add('hidden');
    document.getElementById('stopAutoGenBtn').classList.remove('hidden');
    document.getElementById('autoGenStatus').textContent = `Auto-generating ${state} SSNs...`;

    autoGenCount = 0;
    autoGenInterval = setInterval(() => {
      let ssnData;
      if (state === "Random") {
        ssnData = generateRandomStateSSN();
      } else {
        ssnData = window[`generate${state.replace(/\s/g, '')}SSN`]();
      }

      if (!isSSNDuplicate(ssnData.ssn)) {
        ssnMarketplace.push(ssnData);
        autoGenCount++;
        document.getElementById('autoGenStatus').textContent = `Auto-generating ${state} SSNs... (${autoGenCount} generated)`;

        if (!document.getElementById('generatedSSNsModal').classList.contains('hidden')) {
          renderGeneratedSSNsList();
        }
      }
    }, interval * 1000);
  }

  function stopAutoGeneration() {
    if (autoGenInterval) {
      clearInterval(autoGenInterval);
      autoGenInterval = null;
      document.getElementById('startAutoGenBtn').classList.remove('hidden');
      document.getElementById('stopAutoGenBtn').classList.add('hidden');
      document.getElementById('autoGenStatus').textContent = `Auto-generation stopped. Generated ${autoGenCount} SSNs.`;
    }
  }

  function removeDuplicateSSNs() {
    const uniqueMap = new Map();
    ssnMarketplace.forEach(ssn => uniqueMap.set(ssn.ssn, ssn));
    ssnMarketplace = Array.from(uniqueMap.values());
    showToast(`Removed ${ssnMarketplace.length - uniqueMap.size} duplicates.`);
    renderGeneratedSSNsList();
  }

  // --- EVENT LISTENERS ---
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('startAutoGenBtn').addEventListener('click', startAutoGeneration);
    document.getElementById('stopAutoGenBtn').addEventListener('click', stopAutoGeneration);
    document.getElementById('removeDuplicatesBtn').addEventListener('click', removeDuplicateSSNs);
    document.getElementById('showGeneratedSSNsBtn').addEventListener('click', () => {
      document.getElementById('generatedSSNsModal').classList.remove('hidden');
      renderGeneratedSSNsList();
    });
    document.getElementById('closeGeneratedSSNsModal').addEventListener('click', () => {
      document.getElementById('generatedSSNsModal').classList.add('hidden');
    });
    document.getElementById('refreshGeneratedSSNsBtn')?.addEventListener('click', renderGeneratedSSNsList);
    document.getElementById('copyAllBtn')?.addEventListener('click', copyAllSSNs);
    window.addEventListener('keydown', e => {
      if (e.key === 'Escape') {
        document.getElementById('generatedSSNsModal').classList.add('hidden');
      }
    });
  });
</script>
</body>
</html>
